---
layout: post
title: "[ETC] Database 해킹 당한 썰"
description: "EC2 인스턴스에 배포해서 사용하던 Database가 해킹을 당했다."
date: 2025-04-28 10:00:00 +0900
categories: [TIL, ETC]
tags: [ETC]
---

## Database 해킹

EC2 인스턴스를 이용해서 사용하던 MySQL DB가 해킹을 당했다.

사이드 프로젝트의 데이터베이스인데 CloudWatch Lambda Logs를 확인을 하다 데이터베이스가 없다는 것을 확인했고,

확인해보니 "너의 DB의 데이터는 내가 가져갔으니 복구하고 싶으면 비트코인을 내놔"라고 적혀있었다.

![db-hacking-img](/assets/img/post/screenshot-2025-04-28.png)

## 어떻게 해결하지?

일단 DB에 있는 데이터들은 로컬에 백업을 해놓은 상태였다. 정말 그나마 다행이었다.

하지만 일단 내 DB는 이미 해커에게 털린건 부정할 수 없으니 일단 인스턴스를 종료(삭제)를 하기로 했다.

아직 실제로 운영할 건 아니라서 보안을 신경 쓰지 않고, 모든 IP를 허용해 줬더니 단 며칠 만에 일어난 일이었다.

처음에는 인스턴스 재실행 설정을 해놓아서 기존 DB가 날아간건가? 생각했는데 자세히 보니 DB가 털린 것 이었다.

뉴스에서 보던 일이 실제로 내게도 일어나니까 되게 소름이 끼쳤다.

### 앞으로 해야 할 일

1. 새로운 인스턴스를 생성한다.
2. 보안을 위해 운영에 사용할 Lambda 혹은 API Gateway만 허용을 해준다.
3. 별도로 내 IP만 허용을 해준다.

## 결론 

이렇게 실제로 겪어보니 실무에서 개발을 할 때 언제든 이런 이슈를 겪을 수 있다고 생각했다.

Private subnet을 사용한다고 해도 언제든 털릴 수 있다고 생각했다,,

만약 실제로 운영중인 DB가 털린다고 생각하면 그땐 이제 잠을 못 자는거다.

그래도 해커 덕분에 좋은 경험을 한 것 같다. 🤪